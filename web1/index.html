<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Last Resort Hotel – Management Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="app-shell">
    <!-- Sidebar navigation -->
    <aside class="sidebar">
        <div class="brand">
            <div class="brand-logo">LR</div>
            <div class="brand-text">
                <span class="brand-name">Last Resort</span>
                <span class="brand-subtitle">Management</span>
            </div>
        </div>

        <nav class="nav">
            <a href="#dashboard" class="nav-link active">Dashboard</a>
            <a href="#reports" class="nav-link">Detailed Reports</a>
        </nav>

        <div class="sidebar-footer">
            <p class="sidebar-note">
                Data source: Last Resort Hotel DB<br>
                (rooms, stays, events, charges).
            </p>
        </div>
    </aside>

    <!-- Main content -->
    <main class="main">
        <!-- Top bar -->
        <header class="topbar">
            <div>
                <h1 class="page-title">Executive Dashboard</h1>
                <p class="page-subtitle">Overview of occupancy, revenue, customers, and events</p>
            </div>
            <div class="topbar-meta">
                <div class="meta-item">
                    <span class="meta-label">View</span>
                    <select class="meta-select">
                        <option>Current month</option>
                        <option>Last 3 months</option>
                        <option>Year to date</option>
                    </select>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Hotel</span>
                    <select class="meta-select">
                        <option>All hotels</option>
                        <option>Downtown</option>
                        <option>Airport</option>
                        <option>Convention Center</option>
                    </select>
                </div>
            </div>
        </header>

        <!-- DASHBOARD SECTION -->
        <section id="dashboard" class="section">
            <!-- KPI cards -->
            <div class="section-header">
                <h2 class="section-title">Key Performance Indicators</h2>
                <p class="section-subtitle">
                    High-level metrics based on room nights, charges, and reservations.
                </p>
            </div>

            <div class="kpi-grid">
                <article class="card kpi-card">
                    <header class="kpi-header">
                        <span class="kpi-label">Occupancy today</span>
                        <span class="kpi-tag positive">↑ vs last week</span>
                    </header>
                    <div class="kpi-value">87%</div>
                    <div class="kpi-meta">
                        <span>Occupied rooms: 412 / 472</span>
                        <span>Source: stay_room_history</span>
                    </div>
                </article>

                <article class="card kpi-card">
                    <header class="kpi-header">
                        <span class="kpi-label">Rooms revenue (month)</span>
                        <span class="kpi-tag neutral">vs last month</span>
                    </header>
                    <div class="kpi-value">$428,350</div>
                    <div class="kpi-meta">
                        <span>Service type: room nights</span>
                        <span>Source: charge + service_type</span>
                    </div>
                </article>

                <article class="card kpi-card">
                    <header class="kpi-header">
                        <span class="kpi-label">Event revenue (month)</span>
                        <span class="kpi-tag positive">↑ 12%</span>
                    </header>
                    <div class="kpi-value">$138,900</div>
                    <div class="kpi-meta">
                        <span>Events billed: 37</span>
                        <span>Source: charge.eventId</span>
                    </div>
                </article>

                <article class="card kpi-card">
                    <header class="kpi-header">
                        <span class="kpi-label">ADR (Average Daily Rate)</span>
                        <span class="kpi-tag neutral">rooms only</span>
                    </header>
                    <div class="kpi-value">$182</div>
                    <div class="kpi-meta">
                        <span>Rooms revenue / occupied room nights</span>
                        <span>Source: charge + stay_room_history</span>
                    </div>
                </article>

                <article class="card kpi-card">
                    <header class="kpi-header">
                        <span class="kpi-label">RevPAR</span>
                        <span class="kpi-tag neutral">per available room</span>
                    </header>
                    <div class="kpi-value">$158</div>
                    <div class="kpi-meta">
                        <span>Rooms revenue / (rooms × days)</span>
                        <span>Source: room + charge</span>
                    </div>
                </article>
            </div>

            <!-- Revenue & occupancy row -->
            <div class="layout-row">
                <!-- Revenue by month chart -->
                <section class="card card-large">
                    <header class="card-header">
                        <div>
                            <h3 class="card-title">Revenue by month & category</h3>
                            <p class="card-subtitle">
                                Summed from <code>charge</code> grouped by month and <code>service_type</code>.
                            </p>
                        </div>
                        <div class="card-actions">
                            <button class="btn btn-ghost">3M</button>
                            <button class="btn btn-ghost active">12M</button>
                        </div>
                    </header>

                    <div class="chart-legend">
                        <span class="legend-dot legend-room"></span> Rooms
                        <span class="legend-dot legend-event"></span> Events/Meetings
                        <span class="legend-dot legend-fb"></span> Food &amp; Beverage
                        <span class="legend-dot legend-other"></span> Other
                    </div>

                    <!-- Simple bar chart mock-up -->
                    <div class="chart chart-bars">
                        <div class="chart-bars-inner">
                            <!-- Each column represents a month; heights are just placeholders -->
                            <div class="chart-col">
                                <div class="bar-stack">
                                    <div class="bar bar-room" style="height: 70%;"></div>
                                    <div class="bar bar-event" style="height: 15%;"></div>
                                    <div class="bar bar-fb" style="height: 10%;"></div>
                                    <div class="bar bar-other" style="height: 5%;"></div>
                                </div>
                                <span class="chart-label">Jan</span>
                            </div>
                            <div class="chart-col">
                                <div class="bar-stack">
                                    <div class="bar bar-room" style="height: 72%;"></div>
                                    <div class="bar bar-event" style="height: 18%;"></div>
                                    <div class="bar bar-fb" style="height: 7%;"></div>
                                    <div class="bar bar-other" style="height: 3%;"></div>
                                </div>
                                <span class="chart-label">Feb</span>
                            </div>
                            <div class="chart-col">
                                <div class="bar-stack">
                                    <div class="bar bar-room" style="height: 65%;"></div>
                                    <div class="bar bar-event" style="height: 20%;"></div>
                                    <div class="bar bar-fb" style="height: 10%;"></div>
                                    <div class="bar bar-other" style="height: 5%;"></div>
                                </div>
                                <span class="chart-label">Mar</span>
                            </div>
                            <div class="chart-col">
                                <div class="bar-stack">
                                    <div class="bar bar-room" style="height: 80%;"></div>
                                    <div class="bar bar-event" style="height: 10%;"></div>
                                    <div class="bar bar-fb" style="height: 6%;"></div>
                                    <div class="bar bar-other" style="height: 4%;"></div>
                                </div>
                                <span class="chart-label">Apr</span>
                            </div>
                            <div class="chart-col">
                                <div class="bar-stack">
                                    <div class="bar bar-room" style="height: 75%;"></div>
                                    <div class="bar bar-event" style="height: 12%;"></div>
                                    <div class="bar bar-fb" style="height: 8%;"></div>
                                    <div class="bar bar-other" style="height: 5%;"></div>
                                </div>
                                <span class="chart-label">May</span>
                            </div>
                            <div class="chart-col">
                                <div class="bar-stack">
                                    <div class="bar bar-room" style="height: 78%;"></div>
                                    <div class="bar bar-event" style="height: 15%;"></div>
                                    <div class="bar bar-fb" style="height: 5%;"></div>
                                    <div class="bar bar-other" style="height: 2%;"></div>
                                </div>
                                <span class="chart-label">Jun</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Occupancy trend -->
                <section class="card card-medium">
                    <header class="card-header">
                        <div>
                            <h3 class="card-title">Occupancy trend (last 14 days)</h3>
                            <p class="card-subtitle">
                                Daily occupancy % using <code>stay_room_history</code> vs total sleeping rooms.
                            </p>
                        </div>
                    </header>

                    <!-- Simple line chart mock-up -->
                    <div class="chart chart-line">
                        <div class="chart-line-grid">
                            <div class="line-y-label">100%</div>
                            <div class="line-y-label">75%</div>
                            <div class="line-y-label">50%</div>
                            <div class="line-y-label">25%</div>
                            <div class="line-y-label">0%</div>
                        </div>
                        <svg viewBox="0 0 100 40" preserveAspectRatio="none" class="line-svg">
                            <!-- fake data path -->
                            <polyline
                                fill="none"
                                stroke-width="1.5"
                                points="0,30 10,20 20,18 30,15 40,13 50,14 60,12 70,10 80,12 90,11 100,9" />
                        </svg>
                        <div class="chart-line-x">
                            <span>D-13</span>
                            <span>D-11</span>
                            <span>D-9</span>
                            <span>D-7</span>
                            <span>D-5</span>
                            <span>D-3</span>
                            <span>Today</span>
                        </div>
                    </div>

                    <ul class="card-list">
                        <li>Peak occupancy: 92% (last Saturday)</li>
                        <li>Lowest occupancy: 71% (last Monday)</li>
                        <li>Average (14 days): 83%</li>
                    </ul>
                </section>
            </div>

            <!-- Meeting slot usage & top customers -->
            <div class="layout-row">
                <!-- Meeting slot usage -->
                <section class="card card-medium">
                    <header class="card-header">
                        <div>
                            <h3 class="card-title">Meeting room usage by time slot</h3>
                            <p class="card-subtitle">
                                Counts of room-slot uses from <code>event_facility_use</code> over the last 7 days.
                            </p>
                        </div>
                    </header>

                    <div class="chart chart-slots">
                        <div class="slot-row">
                            <span class="slot-label">Breakfast</span>
                            <div class="slot-bar-wrap">
                                <div class="slot-bar" style="width: 30%;"></div>
                            </div>
                            <span class="slot-value">12 uses</span>
                        </div>
                        <div class="slot-row">
                            <span class="slot-label">Morning</span>
                            <div class="slot-bar-wrap">
                                <div class="slot-bar" style="width: 80%;"></div>
                            </div>
                            <span class="slot-value">34 uses</span>
                        </div>
                        <div class="slot-row">
                            <span class="slot-label">Lunch</span>
                            <div class="slot-bar-wrap">
                                <div class="slot-bar" style="width: 60%;"></div>
                            </div>
                            <span class="slot-value">25 uses</span>
                        </div>
                        <div class="slot-row">
                            <span class="slot-label">Afternoon</span>
                            <div class="slot-bar-wrap">
                                <div class="slot-bar" style="width: 70%;"></div>
                            </div>
                            <span class="slot-value">29 uses</span>
                        </div>
                        <div class="slot-row">
                            <span class="slot-label">Dinner</span>
                            <div class="slot-bar-wrap">
                                <div class="slot-bar" style="width: 55%;"></div>
                            </div>
                            <span class="slot-value">21 uses</span>
                        </div>
                        <div class="slot-row">
                            <span class="slot-label">Evening</span>
                            <div class="slot-bar-wrap">
                                <div class="slot-bar" style="width: 65%;"></div>
                            </div>
                            <span class="slot-value">27 uses</span>
                        </div>
                    </div>
                </section>

                <!-- Top accounts -->
                <section class="card card-medium">
                    <header class="card-header">
                        <div>
                            <h3 class="card-title">Top 5 revenue accounts (this quarter)</h3>
                            <p class="card-subtitle">
                                Based on charges grouped by <code>billing_account</code> and linked to
                                <code>party</code>/<code>person</code>/<code>organization</code>.
                            </p>
                        </div>
                    </header>

                    <table class="table">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>Account / Customer</th>
                            <th>Revenue</th>
                            <th>Stays</th>
                            <th>Events</th>
                            <th>Share</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>1</td>
                            <td>GlobalTech Conference Services</td>
                            <td>$96,400</td>
                            <td>8</td>
                            <td>5</td>
                            <td>
                                <div class="table-bar-wrap">
                                    <div class="table-bar" style="width: 85%;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Smith &amp; Co. Legal</td>
                            <td>$63,250</td>
                            <td>14</td>
                            <td>2</td>
                            <td>
                                <div class="table-bar-wrap">
                                    <div class="table-bar" style="width: 60%;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Sunrise Travel Group</td>
                            <td>$47,880</td>
                            <td>11</td>
                            <td>0</td>
                            <td>
                                <div class="table-bar-wrap">
                                    <div class="table-bar" style="width: 45%;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Northshore Medical</td>
                            <td>$39,420</td>
                            <td>7</td>
                            <td>1</td>
                            <td>
                                <div class="table-bar-wrap">
                                    <div class="table-bar" style="width: 35%;"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>Individual – Maria Gomez</td>
                            <td>$31,050</td>
                            <td>9</td>
                            <td>0</td>
                            <td>
                                <div class="table-bar-wrap">
                                    <div class="table-bar" style="width: 30%;"></div>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </section>
            </div>
        </section>

        <!-- REPORTS SECTION -->
        <section id="reports" class="section">
            <div class="section-header">
                <h2 class="section-title">Detailed Reports</h2>
                <p class="section-subtitle">
                    Drill-down views using the location hierarchy, customers, events, and future bookings.
                </p>
            </div>

            <div class="layout-row layout-row-stacked">
                <!-- Customer summary -->
                <section class="card">
                    <header class="card-header">
                        <div>
                            <h3 class="card-title">Customer summary (stays &amp; revenue)</h3>
                            <p class="card-subtitle">
                                Aggregated from <code>stay</code>, <code>party</code>, <code>person</code>,
                                and <code>stay_account_split</code> + <code>charge</code>.
                            </p>
                        </div>
                    </header>

                    <table class="table table-tight">
                        <thead>
                        <tr>
                            <th>Guest</th>
                            <th>Type</th>
                            <th>Stays</th>
                            <th>Total revenue</th>
                            <th>Avg / stay</th>
                            <th>Last stay</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Maria Gomez</td>
                            <td>Individual</td>
                            <td>9</td>
                            <td>$31,050</td>
                            <td>$3,450</td>
                            <td>2025-10-28</td>
                        </tr>
                        <tr>
                            <td>Northshore Medical</td>
                            <td>Organization</td>
                            <td>7</td>
                            <td>$39,420</td>
                            <td>$5,631</td>
                            <td>2025-10-10</td>
                        </tr>
                        <tr>
                            <td>Smith &amp; Co. Legal</td>
                            <td>Organization</td>
                            <td>14</td>
                            <td>$63,250</td>
                            <td>$4,518</td>
                            <td>2025-11-01</td>
                        </tr>
                        <tr>
                            <td>GlobalTech Conference Services</td>
                            <td>Organization</td>
                            <td>8</td>
                            <td>$96,400</td>
                            <td>$12,050</td>
                            <td>2025-11-03</td>
                        </tr>
                        </tbody>
                    </table>
                </section>

                <!-- Event performance -->
                <section class="card">
                    <header class="card-header">
                        <div>
                            <h3 class="card-title">Event performance (revenue per attendee)</h3>
                            <p class="card-subtitle">
                                Based on <code>event</code>, <code>event_facility_use</code>, and
                                related <code>charge</code> rows.
                            </p>
                        </div>
                    </header>

                    <table class="table table-tight">
                        <thead>
                        <tr>
                            <th>Event</th>
                            <th>Host</th>
                            <th>Dates</th>
                            <th>Est. attendance</th>
                            <th>Total revenue</th>
                            <th>Revenue / attendee</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>GlobalTech Dev Summit</td>
                            <td>GlobalTech Conference Services</td>
                            <td>2025-11-08 – 2025-11-10</td>
                            <td>420</td>
                            <td>$74,200</td>
                            <td>$177</td>
                        </tr>
                        <tr>
                            <td>Smith &amp; Co. Trial Prep</td>
                            <td>Smith &amp; Co. Legal</td>
                            <td>2025-10-18 – 2025-10-19</td>
                            <td>60</td>
                            <td>$18,900</td>
                            <td>$315</td>
                        </tr>
                        <tr>
                            <td>Northshore Medical Symposium</td>
                            <td>Northshore Medical</td>
                            <td>2025-09-12 – 2025-09-13</td>
                            <td>220</td>
                            <td>$27,300</td>
                            <td>$124</td>
                        </tr>
                        </tbody>
                    </table>
                </section>

                <!-- Room inventory & status -->
                <section class="card">
                    <header class="card-header">
                        <div>
                            <h3 class="card-title">Room inventory &amp; current status</h3>
                            <p class="card-subtitle">
                                Integrates <code>hotel</code> → <code>building</code> → <code>wing</code> →
                                <code>floor</code> → <code>room</code> and <code>room_function</code>.
                            </p>
                        </div>
                    </header>

                    <div class="status-summary">
                        <div class="status-pill">
                            <span class="status-dot status-available"></span> Available: 318
                        </div>
                        <div class="status-pill">
                            <span class="status-dot status-occupied"></span> Occupied: 412
                        </div>
                        <div class="status-pill">
                            <span class="status-dot status-maintenance"></span> Maintenance: 24
                        </div>
                        <div class="status-pill">
                            <span class="status-dot status-outoforder"></span> Out of order: 6
                        </div>
                    </div>

                    <table class="table table-tight table-scroll">
                        <thead>
                        <tr>
                            <th>Hotel</th>
                            <th>Building</th>
                            <th>Wing</th>
                            <th>Floor</th>
                            <th>Room</th>
                            <th>Type</th>
                            <th>Smoking</th>
                            <th>Status</th>
                            <th>Base rate</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Downtown</td>
                            <td>Main Tower</td>
                            <td>East</td>
                            <td>12</td>
                            <td>1208</td>
                            <td>King room</td>
                            <td>No</td>
                            <td><span class="badge badge-occupied">Occupied</span></td>
                            <td>$195</td>
                        </tr>
                        <tr>
                            <td>Downtown</td>
                            <td>Main Tower</td>
                            <td>East</td>
                            <td>12</td>
                            <td>1210</td>
                            <td>King room</td>
                            <td>No</td>
                            <td><span class="badge badge-available">Available</span></td>
                            <td>$195</td>
                        </tr>
                        <tr>
                            <td>Downtown</td>
                            <td>Main Tower</td>
                            <td>West</td>
                            <td>8</td>
                            <td>815</td>
                            <td>Suite</td>
                            <td>No</td>
                            <td><span class="badge badge-maintenance">Maintenance</span></td>
                            <td>$320</td>
                        </tr>
                        <tr>
                            <td>Convention Center</td>
                            <td>Conference Wing</td>
                            <td>North</td>
                            <td>3</td>
                            <td>308</td>
                            <td>Meeting room</td>
                            <td>N/A</td>
                            <td><span class="badge badge-available">Available</span></td>
                            <td>$450</td>
                        </tr>
                        <!-- Add more rows as needed -->
                        </tbody>
                    </table>
                </section>

                <!-- Future bookings / pipeline -->
                <section class="card">
                    <header class="card-header">
                        <div>
                            <h3 class="card-title">Future bookings (next 30 days)</h3>
                            <p class="card-subtitle">
                                Expected occupancy from <code>reservation</code> and
                                <code>room_assignment</code> joined to sleeping rooms.
                            </p>
                        </div>
                    </header>

                    <div class="chart chart-line">
                        <div class="chart-line-grid">
                            <div class="line-y-label">100%</div>
                            <div class="line-y-label">75%</div>
                            <div class="line-y-label">50%</div>
                            <div class="line-y-label">25%</div>
                            <div class="line-y-label">0%</div>
                        </div>
                        <svg viewBox="0 0 100 40" preserveAspectRatio="none" class="line-svg">
                            <!-- placeholder path for expected occupancy -->
                            <polyline
                                fill="none"
                                stroke-width="1.5"
                                points="0,24 10,23 20,22 30,20 40,18 50,17 60,17 70,16 80,15 90,13 100,12" />
                        </svg>
                        <div class="chart-line-x">
                            <span>+2d</span>
                            <span>+6d</span>
                            <span>+10d</span>
                            <span>+14d</span>
                            <span>+20d</span>
                            <span>+26d</span>
                            <span>+30d</span>
                        </div>
                    </div>

                    <ul class="card-list">
                        <li>Avg expected occupancy: 79% (next 30 days)</li>
                        <li>Highest on +12d: 91% (large conference group)</li>
                        <li>4 days below 65% – consider promotions</li>
                    </ul>
                </section>
            </div>
        </section>

        <footer class="footer">
            <span>&copy; 2025 Last Resort Hotel – Internal Management View</span>
        </footer>
    </main>
</div>
</body>
</html>
